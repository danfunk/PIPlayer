define(["jquery","app/task/script","app/trial/current_trial"],function(t,e,r){var i=function(){var i,o=this,s=e.settings.canvas||{};if(s.proportions)if(t.isPlainObject(s.proportions)){if("number"!=typeof s.proportions.height||"number"!=typeof s.proportions.width)throw new Error("The canvas proportions object`s height and a width properties must be numeric");i=s.proportions.height/s.proportions.width}else i=s.proportions;setTimeout(function(){var e,n,h={width:t(window).innerWidth(),height:t(window).innerHeight()},p=h.height,a=Math.min(s.maxWidth,h.width);p>i*a?(e=a*i,n=a):(e=p,n=p/i),e-=parseInt(o.$el.css("border-top-width"),10)+parseInt(o.$el.css("border-bottom-width"),10)+parseInt(o.$el.css("margin-top"),10),n-=parseInt(o.$el.css("border-left-width"),10)+parseInt(o.$el.css("border-right-width"),10),o.$el.width(n),o.$el.height(e),o.$el.css("font-size",e*(s.textSize||3)/100),r()&&(r()._layout_collection.refresh(),r()._stimulus_collection.refresh()),window.scrollTo(0,1)},500)};return i});
//# sourceMappingURL=adjust_canvas.js.map