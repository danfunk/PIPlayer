define(["backbone","jquery","./adjust_canvas","app/task/script","text!templates/loading.html"],function(t,e,n,r,s){var a=e.Deferred(),i=t.View.extend({id:"canvas",initialize:function(){this.activate=e.proxy(this.activate,this),this.render=e.proxy(this.render,this),e(window).on("orientationchange resize",e.proxy(this.adjustCanvas,this))},render:function(){return this.adjustCanvas(),this},activate:function(){var t=this,n=r.settings.canvas||{};return e(document).ready(function(){n.background&&e("body").css("background-color",n.background),n.canvasBackground&&t.$el.css("background-color",n.canvasBackground),n.borderColor&&t.$el.css("border-color",n.borderColor),n.borderWidth&&t.$el.css("border-width",n.borderWidth),n.css&&t.$el.css(n.css),t.$el.appendTo("body"),t.render(),a.resolve()}),this},loading:function(t){if("pending"!=t.state())return t;this.$el.html(s);var e=this.$(".meter span");return t.progress(function(t,n){e.width((n?t/n*100:0)+"%")})},empty:function(){this.$el.empty()},docReady:function(){return a},adjustCanvas:n});return new i});
//# sourceMappingURL=main_view.js.map