define(["jquery","backbone","app/task/main_view"],function(t,i,e){var s=e.$el,h=i.View.extend({initialize:function(){this.$el.addClass("stimulus").attr("data-handle",this.model.handle).css("visibility","hidden").css(this.model.get("css")).appendTo(s),this.render()},render:function(){return this.size(),this.place(),this},show:function(){return"image"===this.options.type&&-1!==this.options.image.indexOf("gif")?(window.ActiveXObject||"ActiveXObject"in window?(this.$el.css("visibility","visible"),this.$el[0].src=this.options.image+"#"+Math.random()):(this.$el[0].src="",this.$el[0].src=this.options.image,this.$el.css("visibility","visible")),this):(this.$el.css("visibility","visible"),this)},hide:function(){return this.$el.css("visibility","hidden"),this},size:function(){var t=this.model.get("size");return t.font_size&&this.$el.css("font-size",t.font_size),"auto"!=t.height&&"word"!=this.options.type&&this.$el.height(t.height+"%"),"auto"!=t.width&&this.$el.width(t.width+"%"),this},place:function(){function t(t){return{height:t.outerHeight(),width:t.outerWidth()}}var i,e,h,o,n=t(s),a=t(this.$el),d=this.model.get("location")||{};switch("undefined"==typeof d.top&&"undefined"==typeof d.bottom&&(d.top="center"),"undefined"==typeof d.left&&"undefined"==typeof d.right&&(d.right="center"),d.top){case void 0:case"auto":i="auto";break;case"center":i=(n.height-a.height)/2;break;default:i=n.height*d.top/100}switch(d.bottom){case void 0:case"auto":e="auto";break;case"center":e=(n.height-a.height)/2;break;default:e=n.height*d.bottom/100}switch(d.left){case void 0:case"auto":h="auto";break;case"center":h=(n.width-a.width)/2;break;default:h=n.width*d.left/100}switch(d.right){case void 0:case"auto":o="auto";break;case"center":o=(n.width-a.width)/2;break;default:o=n.width*d.right/100}this.$el.css({top:i,bottom:e,left:h,right:o})}});return h});
//# sourceMappingURL=media_view.js.map