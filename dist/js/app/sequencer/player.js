define(["require","./sourceSequence","./trialSequence","app/trial/trial_constructor","app/task/log/logger","app/task/settings","utils/pubsub"],function(e){var a=e("./sourceSequence"),t=e("./trialSequence"),r=e("app/trial/trial_constructor"),s=e("app/task/log/logger"),n=e("app/task/settings"),c=e("utils/pubsub"),i=function(e,u){var l,o;switch(e){case"nextWhere":l=a.nextWhere(u);break;case"previousWhere":l=a.lastWhere(u);break;case"current":l=a.current();break;case"first":l=a.first();break;case"last":l=a.last();break;case"end":l=a.end();break;case"next":default:l=a.next()}l?(o=new r(a.current()),o.activate().done(function(){c.publish("log:send"),i.apply(null,arguments)}),c.publish("trial:activated",[o]),t.add(o)):s().always(function(){n.hooks.endTask?n.hooks.endTask.call():window.location.href=n.redirect||window.location.href})};return i});
//# sourceMappingURL=player.js.map