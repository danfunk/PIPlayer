define(["underscore","../data/properties","../data/categories","./IATlayout"],function(t,e,n,i){function a(){var t={data:{block:"generic"},input:[{handle:"space",on:"space"}],interactions:[{conditions:[{type:"begin"}],actions:[{type:"showStim",handle:"All"}]},{conditions:[{type:"inputEquals",value:"space"}],actions:[{type:"hideStim",handle:"All"},{type:"setInput",input:{handle:"endTrial",on:"timeout",duration:e.post_instructions_interval||0}}]},{conditions:[{type:"inputEquals",value:"endTrial"}],actions:[{type:"endTrial"}]},{conditions:[{type:"inputEquals",value:"skip1"}],actions:[{type:"setInput",input:{handle:"skip2",on:"enter"}}]},{conditions:[{type:"inputEquals",value:"skip2"}],actions:[{type:"goto",destination:"nextWhere",properties:{blockStart:!0}},{type:"endTrial"}]}]};return e.DEBUG&&t.input.push({handle:"skip1",on:"keypressed",key:27}),e.notouch||t.input.push({handle:"space",on:"bottomTouch",touch:!0}),t}function o(){for(var o,u,r,c=a(),l=[c],d=function(){this.layout=i(this.data.part)},h=1;7>=h;h++)r=p[h]||{},o={data:{block:h},inherit:{set:"instructions",type:"byData",data:{block:"generic"}},customize:d},u={inherit:"instructions",media:{template:"inst"+h+".jst"}},r.media&&(u.media=r.media),r.template&&(u.media={inlineTemplate:r.template}),r.css&&(u.css=r.css),r.extend&&t.extend(o,r.extend),o.stimuli=[u],l.push(o);return t.each(n,function(t,e){c.data[e]=t.name,c.data[e+"Color"]=t.titleColor}),s.stimuli.push({inherit:"instructions",media:e.endMedia||{html:'<div><p style="font-size:1.4em"><color="#FFFAFA">You have completed this task<br/><br/>Thank you very much for your participation.<br/><br/> Press "space" in order to continue.</p></div>'}}),l.push(s),l}var s={data:{block:"last"},input:[{handle:"space",on:"space"}],interactions:[{conditions:[{type:"begin"}],actions:[{type:"showStim",handle:"All"}]},{conditions:[{type:"inputEquals",value:"space"}],actions:[{type:"endTrial"}]}],stimuli:[]},p=[];return function(t,e){return arguments.length?void(p[t]=e):o()}});
//# sourceMappingURL=instructions.js.map