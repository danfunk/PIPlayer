define(["jquery"],function(e){var r=[],n=[],t=0,o=e.Deferred(),a=function(a,i){if(i=i||"image",-1==e.inArray(a,r)){var u=e.Deferred();switch(i){case"template":try{require(["text!"+a],function(){u.resolve()})}catch(f){throw new Error("Template not found: "+a)}break;case"image":default:var c=new Image;e(c).on("load",function(){u.resolve()}),e(c).on("error",function(){throw new Error('Image not found: "'+a+'"')}),c.src=a}return n.push(u),r.push(a),u.done(function(){t++,o.notify(t,n.length)}),u}return!1};return{add:a,activate:function(){return e.when.apply(e,n).done(function(){o.resolve()}).fail(function(){o.reject()}),o.promise()},reset:function(){r=[],n=[],t=0,o=this.state=e.Deferred()},state:o}});
//# sourceMappingURL=preloader.js.map